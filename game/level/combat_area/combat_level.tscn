[gd_scene format=3 uid="uid://c1q6sj2ue5ird"]

[ext_resource type="PackedScene" uid="uid://cjeigbydorgdu" path="res://game/level/combat_area/CombatArea.tscn" id="1_57dav"]
[ext_resource type="PackedScene" uid="uid://dvu82xeeb87ff" path="res://game/system/character/player/player.tscn" id="2_8nlnt"]
[ext_resource type="PackedScene" uid="uid://cxo0b3lr3mm6c" path="res://game/system/character/enemy/bully.tscn" id="3_i2c52"]
[ext_resource type="PackedScene" uid="uid://bjmnq3jlda34w" path="res://game/system/character/enemy/boxer.tscn" id="4_kjrlu"]
[ext_resource type="PackedScene" uid="uid://bavdc803jhh86" path="res://game/system/character/enemy/brain_out_1.tscn" id="5_ay0ac"]
[ext_resource type="PackedScene" uid="uid://c7qftgs4x4ay4" path="res://game/system/character/enemy/fat_guy.tscn" id="6_fhe53"]
[ext_resource type="PackedScene" uid="uid://teuunrq7bxl5" path="res://game/system/character/enemy/eric.tscn" id="7_28xsa"]
[ext_resource type="PackedScene" uid="uid://c3joaeokc1h1s" path="res://game/system/character/enemy/brain_out_2.tscn" id="8_g1ogi"]
[ext_resource type="PackedScene" uid="uid://cwl4oxhktx0r7" path="res://audio/scenes/AudioManager.tscn" id="9_tgsw3"]
[ext_resource type="PackedScene" uid="uid://dp8pqgndfsc8v" path="res://game/level/combat_area/camera.tscn" id="10_xaya2"]
[ext_resource type="Shader" uid="uid://bqqnlybur4rdk" path="res://material/retro.gdshader" id="11_5tn5e"]
[ext_resource type="PackedScene" uid="uid://b52dof6t0f114" path="res://game/level/combat_area/game_ui.tscn" id="12_unnlo"]
[ext_resource type="Script" uid="uid://b6ic2kvjqwmiq" path="res://game/level/combat_area/retro_screen.gd" id="13_i2c52"]
[ext_resource type="Texture2D" uid="uid://bk1awwhg2p6h8" path="res://sprites/Backgrounds/Arena.png" id="13_ldpml"]
[ext_resource type="PackedScene" uid="uid://dg80hkoj8qolf" path="res://game/level/rest_room.tscn" id="15_kjrlu"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_85o0x"]
shader = ExtResource("11_5tn5e")
shader_parameter/grain_intensity = 0.03600000171
shader_parameter/min_lum = 0.1990000094525
shader_parameter/max_lum = 0.3600000171
shader_parameter/time_scale = 0.05600000266
shader_parameter/vignette_darkness = 0.4810000228475
shader_parameter/vignette_outer_radius = 0.76600003312512
shader_parameter/vignette_inner_radius = 0.26400001254
shader_parameter/scanline_intensity = 0.0
shader_parameter/barrel_distortion = 0.50000002375
shader_parameter/chromatic_aberration = 0.002000000095
shader_parameter/crt_vignette_power = 2.98000014155
shader_parameter/pixel_resolution_x = 960
shader_parameter/pixel_resolution_y = 540
shader_parameter/enable_color_quantization = true
shader_parameter/color_quant_steps = 64.0
shader_parameter/warble_amount = 0.002
shader_parameter/warble_speed = 1.0000000475

[sub_resource type="Animation" id="Animation_i2c52"]
resource_name = "TransitionToRest"
length = 0.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/barrel_distortion")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.13333334, 0.33333337),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.50000002375, 1.0, 0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/color_quant_steps")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1.6817929, 1),
"update": 0,
"values": [64.0, 15.0000006175]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/crt_vignette_power")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.4391597),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.98000014155, 5.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/vignette_darkness")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.56666666),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.4810000228475, 1.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/warble_amount")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.53333336),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.002, 0.0050000002375]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ScreenLayer/RetroScreen:material:shader_parameter/grain_intensity")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.03600000171, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8nlnt"]
_data = {
&"TransitionToRest": SubResource("Animation_i2c52")
}

[sub_resource type="Environment" id="Environment_8nlnt"]
background_mode = 3
background_color = Color(0, 0, 0, 0.94500005)
glow_enabled = true
glow_strength = 0.6
glow_bloom = 0.1
adjustment_enabled = true
adjustment_contrast = 1.05
adjustment_saturation = 1.1

[node name="CombatLevel" unique_id=1259752126 instance=ExtResource("1_57dav")]
battle_duration = 2.0
break_duration = 2.0

[node name="Player" parent="." index="0" unique_id=1861387119 instance=ExtResource("2_8nlnt")]
unique_name_in_owner = true
position = Vector2(0, 175)
punch_strength = 0.08
top_down_dir = 1
attack_damage = 1.5
action_cooldown = 2.5

[node name="Enemies" type="Node2D" parent="." index="1" unique_id=1222997985]

[node name="Background" type="Sprite2D" parent="Enemies" index="0" unique_id=697461009]
unique_name_in_owner = true
modulate = Color(0.22415566, 0.5097198, 0.31566837, 0.78431374)
z_index = -10
position = Vector2(-6.790283, 133.79175)
rotation = -0.44854963
scale = Vector2(0.5, 0.5)
texture = ExtResource("13_ldpml")

[node name="Background2" type="Sprite2D" parent="Enemies" index="1" unique_id=1798532950]
modulate = Color(0.22415566, 0.5097198, 0.31566837, 0.78431374)
z_index = -100
position = Vector2(-6.790283, 133.79175)
rotation = -0.44854963
scale = Vector2(5, 5)
texture = ExtResource("13_ldpml")

[node name="Bully" parent="Enemies" index="2" unique_id=1348200660 instance=ExtResource("3_i2c52")]
visible = false
position = Vector2(0, -13)
critical_chance = 0.0
attack_damage = 2.5
action_cooldown = 5.0

[node name="Boxer" parent="Enemies" index="3" unique_id=1871368158 instance=ExtResource("4_kjrlu")]
visible = false
position = Vector2(0, -13)
attack_damage = 1.0
action_cooldown = 4.0

[node name="BrainOut1" parent="Enemies" index="4" unique_id=710006968 instance=ExtResource("5_ay0ac")]
visible = false
position = Vector2(0, -13)
action_cooldown = 3.0

[node name="FatGuy" parent="Enemies" index="5" unique_id=1388912655 instance=ExtResource("6_fhe53")]
visible = false
position = Vector2(-3, -63)
action_cooldown = 7.0

[node name="Eric" parent="Enemies" index="6" unique_id=856538371 instance=ExtResource("7_28xsa")]
visible = false
position = Vector2(0, -13)
action_cooldown = 0.7

[node name="BrainOut2" parent="Enemies" index="7" unique_id=1772965980 instance=ExtResource("8_g1ogi")]
visible = false
position = Vector2(0, -13)

[node name="AudioManager" parent="." index="2" unique_id=1015518348 instance=ExtResource("9_tgsw3")]

[node name="Camera" parent="." index="3" unique_id=1361226820 node_paths=PackedStringArray("follow_node") instance=ExtResource("10_xaya2")]
position = Vector2(25, -1)
zoom = Vector2(2, 2)
limit_enabled = false
max_offset = Vector2(300, 100)
max_roll = 1.0
follow_speed = 50.0
follow_node = NodePath("../ArenaCenter")

[node name="ArenaCenter" type="Marker2D" parent="." index="4" unique_id=404406666]
unique_name_in_owner = true
position = Vector2(9, 60)

[node name="Corner" type="Marker2D" parent="." index="5" unique_id=1210708224]
unique_name_in_owner = true
position = Vector2(-155, -210)

[node name="ScreenLayer" type="CanvasLayer" parent="." index="6" unique_id=1860965310]
layer = 0

[node name="RetroScreen" type="ColorRect" parent="ScreenLayer" index="0" unique_id=1213633945]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_85o0x")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.5190886, 0.12432248, 0.21945283, 1)
script = ExtResource("13_i2c52")
metadata/_edit_use_anchors_ = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="ScreenLayer/RetroScreen" index="0" unique_id=1842895541]
root_node = NodePath("../../..")
libraries/ = SubResource("AnimationLibrary_8nlnt")
playback_auto_capture_transition_type = 4
playback_auto_capture_ease_type = 1

[node name="CanvasLayer" type="CanvasLayer" parent="." index="7" unique_id=473815152]

[node name="GameUI" parent="CanvasLayer" index="0" unique_id=1770480254 instance=ExtResource("12_unnlo")]
unique_name_in_owner = true
metadata/_edit_use_anchors_ = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="8" unique_id=1403225730]
environment = SubResource("Environment_8nlnt")

[node name="RestRoom" parent="." index="9" unique_id=1662139499 instance=ExtResource("15_kjrlu")]
z_index = -5
